demo()
persp()
plotmath
x = 1:100
y = 100:200
plot(x,y)
plot(x,y)
install.packages("plotly")
install.packages("plotly")
install.packages("ggplot2")
install.packages("plotly",dependencies=T)
library("plotly")
install.packages("httr",dependencies = T)
install.packages("httr",dependencies = T)
install.packages("httr",dependencies = T)
install.packages("plotly",dependencies=T)
library(plotly)
exit
exit()
View(iris)
iris[sample(nrow(iris),2),]
mydf= iris[sample(nrow(iris),2),]
mydf
View9df_original
View(df_original)
knitr::opts_chunk$set(echo = TRUE)
library(Hmisc)
library(ggplot2)
library(reshape2)
library(xtable)
setwd('~/git/Water-Consumption-And-Inequality/datasets')
df = read.table("merged_data.csv", header=TRUE, sep=";")
df_original = df
df = df[,c(-1,-10)]
df = na.omit(df)
rcorr(as.matrix(df))
View(df_original)
ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESH_WATER_WD_KM3_2010), type="scatter", mode="markers")
ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010), type="scatter", mode="markers")
ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers"))
ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_points()
ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point()
ggplot(df_original, aes(x=HDI_2015,y=log(TOTAL_FRESHWATER_WD_KM3_2010),type="scatter", mode="markers")) +
geom_point()
ggplot(df_original[-55], aes(x=HDI_2015,y=log(TOTAL_FRESHWATER_WD_KM3_2010),type="scatter", mode="markers")) +
geom_point()
df_original = df_original[c(-55)]
ggplot(df_original, aes(x=HDI_2015,y=log(TOTAL_FRESHWATER_WD_KM3_2010),type="scatter", mode="markers")) +
geom_point()
df_original = df_original[c(-55)]
ggplot(df_original, aes(x=HDI_2015,y=log(TOTAL_FRESHWATER_WD_KM3_2010, color=HDI_2015),type="scatter", mode="markers")) +
geom_point()
df_original = df_original[c(-55)]
ggplot(df_original, aes(x=HDI_2015,y=log(TOTAL_FRESHWATER_WD_KM3_2010),type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015))
df_original = df_original[c(-55)]
ggplot(df_original, aes(x=log(HDI_2015),y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015))
df_original = df_original[c(-55)]
ggplot(df_original, aes(x=log(HDI_2015),y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers", size=HDI_2015)) +
geom_point(aes(color=HDI_2015))
df_original = df_original[c(-55)]
ggplot(df_original, aes(x=log(HDI_2015),y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
df_original = subset(df_original, COUNTRY != 'United States of America')
ggplot(df_original, aes(x=log(HDI_2015),y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
df_original = subset(df_original, COUNTRY != 'United States of America')
ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
# Multiple plot function
#
# ggplot objects can be passed in ..., or to plotlist (as a list of ggplot objects)
# - cols:   Number of columns in layout
# - layout: A matrix specifying the layout. If present, 'cols' is ignored.
#
# If the layout is something like matrix(c(1,2,3,3), nrow=2, byrow=TRUE),
# then plot 1 will go in the upper left, 2 will go in the upper right, and
# 3 will go all the way across the bottom.
#
multiplot <- function(..., plotlist=NULL, file, cols=1, layout=NULL) {
library(grid)
# Make a list from the ... arguments and plotlist
plots <- c(list(...), plotlist)
numPlots = length(plots)
# If layout is NULL, then use 'cols' to determine layout
if (is.null(layout)) {
# Make the panel
# ncol: Number of columns of plots
# nrow: Number of rows needed, calculated from # of cols
layout <- matrix(seq(1, cols * ceiling(numPlots/cols)),
ncol = cols, nrow = ceiling(numPlots/cols))
}
if (numPlots==1) {
print(plots[[1]])
} else {
# Set up the page
grid.newpage()
pushViewport(viewport(layout = grid.layout(nrow(layout), ncol(layout))))
# Make each plot, in the correct location
for (i in 1:numPlots) {
# Get the i,j matrix positions of the regions that contain this subplot
matchidx <- as.data.frame(which(layout == i, arr.ind = TRUE))
print(plots[[i]], vp = viewport(layout.pos.row = matchidx$row,
layout.pos.col = matchidx$col))
}
}
}
p1 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
df_original = subset(df_original, COUNTRY != 'United States of America')
p2 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
multiplot(p1,p2,cols=2)
p1 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
df_original = subset(df_original, COUNTRY != 'United States of America')
p2 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
supressWarnings(multiplot(p1,p2))
p1 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
df_original = subset(df_original, COUNTRY != 'United States of America')
p2 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
suppressWarnings(multiplot(p1,p2))
`geom_smooth()` using method = 'loess'
p1 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
df_original = subset(df_original, COUNTRY != 'United States of America')
p2 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
suppressWarnings(multiplot(p1,p2))
geom_smooth()
install.packages("ggpubr")
# Multiple plot function
#
# ggplot objects can be passed in ..., or to plotlist (as a list of ggplot objects)
# - cols:   Number of columns in layout
# - layout: A matrix specifying the layout. If present, 'cols' is ignored.
#
# If the layout is something like matrix(c(1,2,3,3), nrow=2, byrow=TRUE),
# then plot 1 will go in the upper left, 2 will go in the upper right, and
# 3 will go all the way across the bottom.
#
multiplot <- function(..., plotlist=NULL, file, cols=1, layout=NULL) {
library(grid)
# Make a list from the ... arguments and plotlist
plots <- c(list(...), plotlist)
numPlots = length(plots)
# If layout is NULL, then use 'cols' to determine layout
if (is.null(layout)) {
# Make the panel
# ncol: Number of columns of plots
# nrow: Number of rows needed, calculated from # of cols
layout <- matrix(seq(1, cols * ceiling(numPlots/cols)),
ncol = cols, nrow = ceiling(numPlots/cols))
}
if (numPlots==1) {
print(plots[[1]])
} else {
# Set up the page
grid.newpage()
pushViewport(viewport(layout = grid.layout(nrow(layout), ncol(layout))))
# Make each plot, in the correct location
for (i in 1:numPlots) {
# Get the i,j matrix positions of the regions that contain this subplot
matchidx <- as.data.frame(which(layout == i, arr.ind = TRUE))
print(plots[[i]], vp = viewport(layout.pos.row = matchidx$row,
layout.pos.col = matchidx$col))
}
}
}
install.packages("ggpubr")
library(ggpubr)
library(Hmisc)
library(ggplot2)
library(reshape2)
library(xtable)
p1 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
df_original = subset(df_original, COUNTRY != 'United States of America')
p2 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggarrange(p1,p2)
p1 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
df_weua = subset(df_original, COUNTRY != 'United States of America')
p2 <- ggplot(df_weua, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggarrange(p1,p2, labels = c("COM EUA", "SEM EUA"), cols=1)
p1 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
df_weua = subset(df_original, COUNTRY != 'United States of America')
p2 <- ggplot(df_weua, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggarrange(p1,p2, labels = c("COM EUA", "SEM EUA"), col=1)
p1 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
df_weua = subset(df_original, COUNTRY != 'United States of America')
p2 <- ggplot(df_weua, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggarrange(p1,p2, labels = c("COM EUA", "SEM EUA"), ncol=1)
p1 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
df_weua = subset(df_original, COUNTRY != 'United States of America')
p2 <- ggplot(df_weua, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggarrange(p1,p2, labels = c("COM EUA", "SEM EUA"), ncol=4)
p1 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
df_weua = subset(df_original, COUNTRY != 'United States of America')
p2 <- ggplot(df_weua, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggarrange(p1,p2, labels = c("COM EUA", "SEM EUA"), ncol=1, nrow=2)
ggplot(df_original, aes(x=POPULLATON_MILLIONS_2010,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggplot(df_original, aes(x=POPULLATION_MILLIONS_2010,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggplot(df_original, aes(x=POPULATTION_MILLIONS_2010,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggplot(df_original, aes(x=POPULATION_MILLIONS_2010,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggplot(df_original, aes(x=log(POPULATION_MILLIONS_2010),y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggplot(df_original, aes(x=POPULATION_MILLIONS_2010,y=log(TOTAL_FRESHWATER_WD_KM3_2010),type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
setwd('~/git/Water-Consumption-And-Inequality/datasets')
df = read.table("merged_data.csv", header=TRUE, sep=";")
df_original = df
df = df[,c(-1,-10)]
df = na.omit(df)
rcorr(as.matrix(df))
setwd('~/git/Water-Consumption-And-Inequality/datasets')
df = read.table("merged_data.csv", header=TRUE, sep=";")
df_original = df
df = df[,c(-1,-10)]
df = na.omit(df)
rcorr(as.matrix(df))
mat <- round(cor(df),2)
melted_cormat <- melt(mat)
ggplot(data = melted_cormat, aes(x=Var1, y=Var2, fill=value)) + geom_tile() +
theme(axis.text.x = element_text(angle = 50, vjust = 1, size = 8, hjust = 1),
axis.text.y = element_text(angle = 0, vjust = 1, size = 8, hjust = 1),
axis.title.x = element_blank(),
axis.title.y = element_blank()) +
coord_fixed() +
scale_fill_gradient2(low  = "black",
high = "darkturquoise",
mid  = "white",
midpoint = 0,
limit = c(-1,1),
name="Correlation") +
geom_text(aes(Var2, Var1, label = value), color = "black", size = 3)
p1 <- ggplot(df_original, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
df_weua = subset(df_original, COUNTRY != 'United States of America')
p2 <- ggplot(df_weua, aes(x=HDI_2015,y=TOTAL_FRESHWATER_WD_KM3_2010,type="scatter", mode="markers")) +  geom_point(aes(color=HDI_2015,size=HDI_2015))
ggplot(df_original, aes(x=POPULATION_MILLIONS_2010,y=log(TOTAL_FRESHWATER_WD_KM3_2010),type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggplot(df_original, aes(x=HDI_2015,y=ANNUAL_RENEWABLE_WATER_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggplot(df_original, aes(x=HDI_2015,y=log(ANNUAL_RENEWABLE_WATER_2010),type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggplot(df_weua, aes(x=HDI_2015,y=log(ANNUAL_RENEWABLE_WATER_2010),type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggplot(df_weua, aes(x=log(ANNUAL_RENEWABLE_WATER_2010),y=HDI_2015,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggplot(df_weua, aes(x=ANNUAL_RENEWABLE_WATER_2010,y=HDI_2015,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggplot(df_original, aes(x=ANNUAL_RENEWABLE_WATER_2010,y=POPULATTION_MILLIONS_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggplot(df_original, aes(x=ANNUAL_RENEWABLE_WATER_2010,y=POPULATION_MILLIONS_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggplot(df_weua, aes(x=ANNUAL_RENEWABLE_WATER_2010,y=POPULATION_MILLIONS_2010,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
ggplot(df_weua, aes(x=ANNUAL_RENEWABLE_WATER_2010,y=HDI_2015,type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
p <- ggplot(df_original, aes(x=POPULATION_MILLIONS_2010,y=log(TOTAL_FRESHWATER_WD_KM3_2010),type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
suppressWarnings(p)
p <- ggplot(df_original, aes(x=POPULATION_MILLIONS_2010,y=log(TOTAL_FRESHWATER_WD_KM3_2010),type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
p <- ggplot(df_original, aes(x=POPULATION_MILLIONS_2010,y=log(TOTAL_FRESHWATER_WD_KM3_2010),type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
suppressWarnings(p)
setwd('~/git/Water-Consumption-And-Inequality/datasets')
df = read.table("merged_data.csv", header=TRUE, sep=";")
df_original = subset(df, !is.na)
setwd('~/git/Water-Consumption-And-Inequality/datasets')
df = read.table("merged_data.csv", header=TRUE, sep=";")
df_original = subset(df, !is.na())
setwd('~/git/Water-Consumption-And-Inequality/datasets')
df = read.table("merged_data.csv", header=TRUE, sep=";")
df_original = subset(df, !is.na(HDI_2015))
df = df[,c(-1,-10)]
df = na.omit(df)
rcorr(as.matrix(df))
p <- ggplot(df_original, aes(x=POPULATION_MILLIONS_2010,y=log(TOTAL_FRESHWATER_WD_KM3_2010),type="scatter", mode="markers")) +
geom_point(aes(color=HDI_2015,size=HDI_2015))
suppressWarnings(p)
df = read.table("merged_data.csv", header=TRUE, sep=";")
# go to datasets folder
setwd('~/git/Water-Consumption-And-Inequality/datasets')
# import datasets
df = read.table("merged_data.csv", header=TRUE, sep=";")
setwd('~/git/Water-Consumption-And-Inequality/datasets')
# import datasets
df = read.table("merged_data.csv", header=TRUE, sep=",")
setwd('~/git/Water-Consumption-And-Inequality/datasets')
# import datasets
df = read.table("merged_data.csv", header=TRUE, sep=",")
setwd('~/git/Water-Consumption-And-Inequality/datasets')
# import datasets
df = read.table("merged_data.csv", header=TRUE, sep=",")
setwd('~/git/Water-Consumption-And-Inequality/datasets')
# import datasets
df = read.table("merged_data.csv", header=TRUE, sep=",")
setwd('~/git/Water-Consumption-And-Inequality/datasets')
# import datasets
df = read.table("merged_data.csv", header=TRUE, sep=",")
setwd('~/git/Water-Consumption-And-Inequality/datasets')
# import datasets
df = read.table("merged_data.csv", header=TRUE, sep=",")
setwd('~/git/Water-Consumption-And-Inequality/datasets')
df = read.table("merged_data.csv", header=TRUE, sep=",")
df_original = df
df = df[,c(-1,-10)]
df = na.omit(df)
rcorr(as.matrix(df))
DF
df
View(df)
df = read.table("merged_data.csv", header=TRUE, sep=",")
df_original = df
df = df[,c(-1,-10)]
df = na.omit(df)
rcorr(as.matrix(df))
df = read.table("merged_data.csv", header=TRUE, sep=",")
df_original = df
df = df[,c(-1,-10)]
rcorr(as.matrix(df))
df = read.table("merged_data.csv", header=TRUE, sep=",")
df_original = df
df = df[,c(-1,-10)]
df = na.omit(df)
rcorr(as.matrix(df))
setwd('~/git/Water-Consumption-And-Inequality/datasets')
df = read.table("merged_data.csv", header=TRUE, sep=";")
df_original = df
df = df[,c(-1,-10)]
df = na.omit(df)
rcorr(as.matrix(df))
setwd('~/git/Water-Consumption-And-Inequality/datasets')
df = read.table("merged_data.csv", header=TRUE, sep=",")
df_original = df
df = df[,c(-1,-10)]
df = na.omit(df)
rcorr(as.matrix(df))
setwd('~/git/Water-Consumption-And-Inequality/datasets')
df = read.table("merged_data.csv", header=TRUE, sep=",")
df = read.table("merged_data.csv", header=TRUE, sep=",")
setwd('~/git/Water-Consumption-And-Inequality/datasets')
setwd('~/git/Water-Consumption-And-Inequality/datasets')
df = read.table("merged_data.csv", header=TRUE, sep=",")
setwd('~/git/Water-Consumption-And-Inequality/datasets')
df = read.table("merged_data.csv", header=TRUE, sep=",")
df_original = df
df = df[,c(-1,-10)]
df = na.omit(df)
rcorr(as.matrix(df))
mat <- round(cor(df),2)
df = read.table("merged_data.csv", header=TRUE, sep=",")
